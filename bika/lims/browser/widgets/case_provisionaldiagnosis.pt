<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:tal="http://xml.zope.org/namespaces/tal"
    xmlns:i18n="http://xml.zope.org/namespaces/i18n" i18n:domain="bika">
<body>

    <div id="folderlisting-main-table" class="template-caseprovisionaldiagnosis">
        <input tal:replace="structure context/@@authenticator/authenticator" />
        <input type="hidden" name="CPD_submitted" value="1"/>
        <div class="bika-listing-table-container">
            <table summary="Content listing" style="margin-bottom: 0px;"
                class="bika-listing-table">
                <thead>
                    <tr>
                		<th></th>
                        <th class="column"
                            id="foldercontents-Code-column">
                            <span i18n:translate="">Code</span>
                        </th>
                        <th class="column"
                            id="foldercontents-Title-column">
                            <span i18n:translate="" class="fieldRequired">Provisional Diagnosis</span>
                        </th>
                        <th class="column"
                            id="foldercontents-Description-column">
                            <span i18n:translate="">Description</span>
                        </th>
                        <th class="column"
                            id="foldercontents-Onset-column">
                            <span i18n:translate="">Onset</span>
                        </th>
                    </tr>
                </thead>

                <tbody class="item-listing-tbody"
                		tal:define="global index python:-1">
                    <tr tal:repeat="row context/getProvisionalDiagnosis">
                    	<td>
                          	 <input class="noborder" type="checkbox"
                          		name="CPD-SelectItem" id="CPD_SelectItem"
                          		tal:define="global index python:index+1;"
                          		tal:attributes="
                          			id python:'CPD-SelectItem-%s'%(index);
                          			name python:'CPD-SelectItem-%s'%(index);"/>
                        </td>
                        <td class="state-active Code">
                             <span tal:content="row/Code"/>
                        </td>
                        <td class="state-active Title">
                             <span tal:content="row/Title"/>
                        </td>
                        <td class="state-active Description">
                             <span tal:content="row/Description"/>
                        </td>
                        <td class="state-active Onset">
                             <span tal:content="row/Onset"/>
                        </td>
                    </tr>
                    <tr id="new">
                    	<td style="padding-bottom:15px;"></td>
                        <td colspan="1" rowspan="1" class="state-active Code">
                             <input class="wide" id="Code" type="text" value="" autocomplete="off" readonly="readonly"/>
                        </td>
                        <td colspan="1" rowspan="1" class="state-active Title">
                             <input class="wide" id="Title" type="text" value="" autocomplete="off"/>
                        </td>
                        <td colspan="1" rowspan="1" class="state-active Description">
                             <input class="wide" id="Description" type="text" value="" autocomplete="off" readonly="readonly"/>
                        </td>
                        <td colspan="1" rowspan="1" class="state-active Onset">
                             <input class="datepicker_nofuture" id="Onset" type="text" value="" autocomplete="off"/>
                        </td>
                    </tr>
                </tbody>
                <tfoot>
					<tr>
						<td class="noborder workflow_actions" colspan="5"  style="padding:5px;">
							<input class="workflow_action_button action_button add_row allowMultiSubmit"
						       type="submit"
							   i18n:attributes="value"
							   value="Add" />
							<tal:hasprovisionaldiagnosis tal:condition="python:hasattr(view, 'hasProvisionalDiagnosis') and view.hasProvisionalDiagnosis()">
								<input class="workflow_action_button action_button allowMultiSubmit" type="submit"
									name="CPD_delete"
									i18n:attributes="value" value="Delete selected" />
								<input class="workflow_action_button action_button allowMultiSubmit" type="submit"
									name="CPD_clear"
									i18n:attributes="value" value="Delete all" />
							</tal:hasprovisionaldiagnosis>
					   </td>
					</tr>
				</tfoot>
            </table>
        </div>
    </div>
</body>
</html>
