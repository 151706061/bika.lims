<!-- XXX hideContentsFolder should be in xml NOT python module. -->

<?xml version="1.0"?>
<object name="AnalysisRequest"
   meta_type="Factory-based Type Information with dynamic views"
   xmlns:i18n="http://xml.zope.org/namespaces/i18n">
 <property name="title">Analysis request</property>
 <property name="description"></property>
 <property name="icon_expr">string:${portal_url}/images/ar.png</property>
 <property name="content_meta_type">AnalysisRequest</property>
 <property name="product">bika.lims</property>
 <property name="factory">addAnalysisRequest</property>
 <property name="add_view_expr"></property>
 <property name="link_target"></property>
 <property name="global_allow">False</property>
 <property name="filter_content_types">True</property>
 <property name="allowed_content_types">
  <element value="Analysis"/>
 </property>
 <property name="allow_discussion">False</property>
 <property name="default_view_fallback">False</property>
 <alias from="(Default)" to="base_view"/>
 <alias from="view" to="base_view"/>
 <alias from="edit" to="base_edit"/>

 <action title="View" action_id="view" category="object" condition_expr=""
    icon_expr="" link_target="" url_expr="string:${object_url}/base_view"
    visible="True">
  <permission value="View"/>
 </action>

 <action title="Edit" action_id="edit" category="object" condition_expr=""
    icon_expr="" link_target="" url_expr="string:${object_url}/base_edit"
    visible="True">
  <permission value="Modify portal content"/>
 </action>

 <action title="Manage results" action_id="analyses" category="object"
    condition_expr="" icon_expr="" link_target=""
    url_expr="string:${object_url}/analysisrequest_analyses" visible="True">
  <permission value="bika.lims: Manage AnalysisRequest"/>
 </action>

 <action title="Results not requested" action_id="analyses_not_requested"
    category="object" condition_expr="" icon_expr="" link_target=""
    url_expr="string:${object_url}/analysisrequest_analyses_not_requested"
    visible="True">
  <permission value="bika.lims: Manage Bika"/>
 </action>

 <action title="Log" action_id="log" category="object" condition_expr=""
    icon_expr="" link_target="" url_expr="string:${object_url}/status_log"
    visible="True">
  <permission value="bika.lims: Manage Bika"/>
 </action>

 <action title="Submit results" action_id="submit_results"
    category="folder_buttons" condition_expr="" icon_expr="" link_target=""
    url_expr="string:submitResults:method" visible="True">
  <permission value="bika.lims: Submit results"/>
 </action>

 <action title="Invoice" action_id="issue_invoice" category="folder_buttons"
    condition_expr="python:not here.getInvoice() and not here.getInvoiceExclude()"
    icon_expr="" link_target="" url_expr="string:issueInvoice:method"
    visible="True">
  <permission value="bika.lims: Manage Invoices"/>
 </action>

 <action title="Print Invoice" action_id="print_invoice"
    category="folder_buttons" condition_expr="python:here.getInvoice()"
    icon_expr="" link_target="" url_expr="string:printInvoice:method"
    visible="True">
  <permission value="View"/>
 </action>

 <action title="Large Sticker" action_id="sticker_lrg"
    category="document_actions" condition_expr="" icon_expr="" link_target=""
    url_expr="string:${object_url}/analysisrequest_sticker" visible="True">
  <permission value="View"/>
 </action>
 <action title="Small Sticker" action_id="sticker_sml"
    category="document_actions" condition_expr="" icon_expr="" link_target=""
    url_expr="string:${object_url}/analysisrequest_sticker" visible="True">
  <permission value="View"/>
 </action>

</object>
