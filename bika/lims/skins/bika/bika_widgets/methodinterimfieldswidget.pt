<html xmlns="http://www.w3.org/1999/xhtml"
  xmlns:tal="http://xml.zope.org/namespaces/tal"
  xmlns:metal="http://xml.zope.org/namespaces/metal"
  xmlns:i18n="http://xml.zope.org/namespaces/i18n"
  i18n:domain="plone">
<head><title></title></head>
<body>
  <metal:view_macro define-macro="view">
     <table class="listing nosort">

     </table>
  </metal:view_macro>

  <metal:edit_macro define-macro="edit">
    <metal:use use-macro="field_macro | context/widgets/field/macros/edit">
      <metal:body_macro fill-slot="widget_body"
        tal:define="
        fieldname python: field.getName();
        field python: context.Schema()[fieldname];
        accessor python: field.getAccessor(context);
        current_field_value accessor;"

        <table class="listing">

          <thead>
            <tr>
              <th i18n:translate="label_field_name">Field Name</th>
              <th i18n:translate="label_type">Type</th>
              <th i18n:translate="label_default_value">Default Value</th>
            </tr>
          </thead>

          <tbody id="interim_fields_tbody">
            <tr tal:repeat="interimfield current_field_value"
                class="interimfield">
              <td>
                <input type="text" tal:attributes="
                    value interimfield/name;
                    name string:${fieldname}.name:records:ignore_empty"/>
              </td>
              <td>
                <input type="text" tal:attributes="
                    value interimfield/type;
                    name string:${fieldname}.type:records:ignore_empty"/>
              </td>
              <td>
                <input type="text" tal:attributes="
                    value interimfield/default;
                    name string:${fieldname}.default:records:ignore_empty"/>
              </td>
            </tr>
            <tr class="interimfield">
              <td><input type="text" tal:attributes="name string:${fieldname}.name:records:ignore_empty"/></td>
              <td><input type="text" tal:attributes="name string:${fieldname}.type:records:ignore_empty"/></td>
              <td><input type="text" tal:attributes="name string:${fieldname}.default:records:ignore_empty"/></td>
            </tr>
          </tbody>

        </table>

    </metal:body_macro>
   </metal:use>
  </metal:edit_macro>
</body>
</html>
