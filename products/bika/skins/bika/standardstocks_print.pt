<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<metal:block use-macro="here/global_defines/macros/defines" />

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      tal:attributes="lang default_language|default;
                      xml:lang default_language|default;"
      i18n:domain="bika">

<head metal:use-macro="here/header/macros/html_header">

<metal:fillbase fill-slot="base">
    <base href="" tal:attributes="href here/renderBase" />
</metal:fillbase>

<metal:headslot fill-slot="head_slot"
                tal:define="language here/Language;
                            lang language | default_language;
                            charset site_properties/default_charset|string:utf-8">

    <metal:cache use-macro="here/global_cache_settings/macros/cacheheaders">
    Get the global cache headers located in global_cache_settings.
    </metal:cache>

<style>
table {
    border-collapse:collapse;
    margin: 1px 0em 1px 0em;
}
tr {
    page-break-inside: avoid;
}
th {
    border: 1px solid Black;
    padding: 2px 1em 2px 1em;
    text-align: left;
}
td {
    border: 1px solid Black;
    padding: 2px 1em 2px 1em;
}
</style>

</metal:headslot>

</head>

<body onload="this.print()">
<div class="visualNoPrint">
<a tal:attributes="href string:${portal_url}/bika_standardstocks">
<span i18n:translate="label_return_to_standardstocks"
    >Return to standard stocks</span></a>
<hr/>
</div>

<img src="" tal:attributes="src string:${portal_url}/logo.png"/>

<metal:block define-macro="standardstocks">

<h1 i18n:translate="heading_standard_stocks">Standard stocks</h1>

<table cellpadding="0" cellspacing="0">
<thead>
<tr>
  <th i18n:translate="label_title">Title</th>
  <th i18n:translate="label_description">Description</th>
</thead>

<tbody>

<tal:block
     define="results python:[p.getObject() for p in here.portal_catalog(
                     portal_type='StandardStock')];
             sort_on python:(('Title', 'nocase', 'asc'),);
             results python:sequence.sort(results, sort_on)"
     repeat="item results">

<tr>
  <td tal:content="item/Title">Sugar</td>
  <td tal:content="item/getStandardStockDescription">Sugar water</td>
</tr>

</tal:block>

</tbody>
</table>

</metal:block>

</body>
</html>

