<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<metal:block use-macro="here/global_defines/macros/defines" />

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en"
      lang="en"
      xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      xmlns:i18n="http://xml.zope.org/namespaces/i18n"
      tal:attributes="lang default_language|default;
                      xml:lang default_language|default;"
      i18n:domain="bika">

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"
          tal:define="charset site_properties/default_charset|string:utf-8"
          tal:attributes="content string:text/html;;charset=${charset}" />

    <!-- Column style sheet. -->
    <style type="text/css" media="all" tal:condition="exists: portal/ploneColumns.css"
           tal:content="string:@import url($portal_url/ploneColumns.css);">
    </style>

    <!-- Main style sheets for CSS2 capable browsers -->
    <style type="text/css" media="screen"
           tal:content="string: @import url($portal_url/plone.css);">
    </style>

    <!-- Old style sheet from Plone 1.0, remove tal:condition="nothing" if you need to use the old styles.
         Will be removed in Plone 2.1. -->
    <style type="text/css" media="screen"
           tal:condition="nothing"
           tal:content="string: @import url($portal_url/ploneDeprecated.css);">
    </style>

    <!-- Alternate style sheets for the bigger/smaller text switcher -->
    <link rel="alternate stylesheet" type="text/css" media="screen" href="" tal:attributes="href string:$portal_url/ploneTextSmall.css" title="Small Text" />
    <link rel="alternate stylesheet" type="text/css" media="screen" href="" tal:attributes="href string:$portal_url/ploneTextLarge.css" title="Large Text" />

    <!-- Custom style sheet if available -->
    <style type="text/css" media="all" tal:condition="exists: portal/ploneCustom.css"
           tal:content="string:@import url($portal_url/ploneCustom.css);">
    </style>

    <!-- Style sheet used for printing -->
    <link rel="stylesheet" type="text/css" media="print" href=""
          tal:attributes="href string:$portal_url/plonePrint.css" />

    <!-- Internet Explorer CSS Fixes -->
    <tal:iefixstart replace="structure string:&lt;!--[if IE]&gt;" />
    <style type="text/css" media="all" tal:condition="exists: portal/ploneIEFixes.css"
           tal:content="string:@import url($portal_url/ploneIEFixes.css);">
    </style>
    <tal:iefixend replace="structure string:&lt;![endif]--&gt;" />

</head>
<body>
<metal:block define-macro="report_header">
<img src="" tal:attributes="src string:${portal_url}/logo.png"/>
<table width="100%"
    tal:define="
        laboratory python:context.bika_labinfo.laboratory;
        lab_postal python:laboratory.getPostalAddress();
        lab_physical python:laboratory.getPhysicalAddress();
        now python:DateTime();
        ">
<tr><td>
<div tal:condition="laboratory/Title"
     tal:content="laboratory/Title">This lab</div>
<tal:physical_address tal:condition="lab_physical">
<div tal:condition="python:lab_physical.has_key('address')"
    tal:content="lab_physical/address">This address</div>
<div>
<span tal:condition="python:lab_physical.has_key('city')"
    tal:content="lab_physical/city">This lab</span>
<span tal:condition="python:lab_physical.has_key('state')"
    tal:content="lab_physical/state">This lab</span>
<span tal:condition="python:lab_physical.has_key('zip')"
    tal:content="lab_physical/zip">This lab</span>
</div>
<div tal:condition="python:lab_physical.has_key('country')"
    tal:content="lab_physical/country">This lab</div>
</tal:physical_address>
<tal:postal_address tal:condition="lab_postal">
<div tal:condition="python:lab_postal.has_key('address')"
    tal:content="lab_postal/address">This address</div>
<div>
<span tal:condition="python:lab_postal.has_key('city')"
    tal:content="lab_postal/city">This lab</span>
<span tal:condition="python:lab_postal.has_key('state')"
    tal:content="lab_postal/state">This lab</span>
<span tal:condition="python:lab_postal.has_key('zip')"
    tal:content="lab_postal/zip">This lab</span>
</div>
<div tal:condition="python:lab_postal.has_key('country')"
    tal:content="lab_postal/country">This lab</div>
</tal:postal_address>
</td><td align="right">
<div tal:condition="laboratory/Phone">
<span i18n:translate="label_Phone">Phone</span>:
<span tal:content="laboratory/Phone">phoneno</span>
</div>
<div tal:condition="laboratory/Fax">
<span tal:condition="laboratory/Fax"
    i18n:translate="label_Fax">Fax</span>:
<span tal:condition="laboratory/Fax"
    tal:content="laboratory/Fax">fax</span>
</div>
<div>
<span tal:content="context/absolute_url">www.here.com</span>
</div>
<div tal:condition="laboratory/EmailAddress">
<span tal:content="laboratory/EmailAddress">email</span>
</div>
<br/>
<span i18n:translate="label_compiled_by">Compiled by</span>:
<span tal:define="member python:here.portal_membership.getAuthenticatedMember();
               member_info member/getMemberInfo;
               compiled_by member_info/fullname"
   tal:content="compiled_by">xxx</span>
<br/>
<b style="font-size:120%" tal:content="python:plone_view.toLocalizedTime(now, long_format=1)">2006-01-01 </b>
</td></tr></table>
<br/>
</metal:block>
</body>

</html>


