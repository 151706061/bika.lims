<html xmlns:tal="http://xml.zope.org/namespaces/tal"
      xmlns:metal="http://xml.zope.org/namespaces/metal"
      i18n:domain="plone">

<body>

<!-- The Prefs portlet -->

<metal:portlet define-macro="portlet"
   tal:define="controlPanel python:modules['Products.CMFCore.utils'].getToolByName(here, 'portal_controlpanel');
               groups python:controlPanel.getGroups('site');
               getIconFor nocall:putils/getIconFor">

    <div class="portlet"
         id="portlet-prefs">
        <h5 i18n:translate="heading_control_panel">Plone Setup</h5>
        <div class="portletBody">


            <tal:groups repeat="group groups">
            <tal:configlets define="configlets python:controlPanel.enumConfiglets(group=group['id'])">
            <div class="portletContent odd"
                 tal:condition="configlets">

                <strong tal:content="group/title"
                        i18n:translate="plone_configlet_group_title">Plone Configlet Group Title</strong>
                <ul class="configlets">
        
                    <li tal:repeat="configlet configlets">
                        <a href=""
                           style="display: block;"
                           tal:attributes="href configlet/url"
                           tal:condition="configlet/visible">
                            <img src="" alt="" tal:attributes="src python:getIconFor('controlpanel',configlet['id']);
                                                 alt configlet/description"
                                 i18n:attributes="alt"
                                 tal:on-error="string:" />
                        <tal:configletname tal:content="configlet/name"
                                           i18n:translate=""></tal:configletname>
                        </a>
                    </li>
        
                </ul>

            </div>
            </tal:configlets>
            </tal:groups>

        </div>
    </div>

</metal:portlet>

</body>

</html>
